{"remainingRequest":"/home/hoang/Manager-Village/web/node_modules/babel-loader/lib/index.js!/home/hoang/Manager-Village/web/node_modules/eslint-loader/index.js??ref--13-0!/home/hoang/Manager-Village/web/src/services/API.js","dependencies":[{"path":"/home/hoang/Manager-Village/web/src/services/API.js","mtime":1618134042079},{"path":"/home/hoang/Manager-Village/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hoang/Manager-Village/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hoang/Manager-Village/web/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKCi8qCiAqIFRoaXMgaXMgdGhlIGluaXRpYWwgQVBJIGludGVyZmFjZQogKiB3ZSBzZXQgdGhlIGJhc2UgVVJMIGZvciB0aGUgQVBJCiAqLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmV4cG9ydCB2YXIgYXBpQ2xpZW50ID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwgKyAiL2FwaSIsCiAgd2l0aENyZWRlbnRpYWxzOiB0cnVlIC8vIHJlcXVpcmVkIHRvIGhhbmRsZSB0aGUgQ1NSRiB0b2tlbgoKfSk7Ci8qCiAqIEFkZCBhIHJlc3BvbnNlIGludGVyY2VwdG9yCiAqLwoKYXBpQ2xpZW50LmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgWzQwMSwgNDE5XS5pbmNsdWRlcyhlcnJvci5yZXNwb25zZS5zdGF0dXMpICYmIHN0b3JlLmdldHRlcnNbImF1dGgvYXV0aFVzZXIiXSAmJiAhc3RvcmUuZ2V0dGVyc1siYXV0aC9ndWVzdCJdKSB7CiAgICBzdG9yZS5kaXNwYXRjaCgiYXV0aC9sb2dvdXQiKTsKICB9CgogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOw=="},{"version":3,"sources":["/home/hoang/Manager-Village/web/src/services/API.js"],"names":["axios","store","apiClient","create","baseURL","process","env","VUE_APP_API_URL","withCredentials","interceptors","response","use","error","includes","status","getters","dispatch","Promise","reject"],"mappings":";;;AAAA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,OAAO,IAAMC,SAAS,GAAGF,KAAK,CAACG,MAAN,CAAa;AACpCC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,eAAZ,GAA8B,MADH;AAEpCC,EAAAA,eAAe,EAAE,IAFmB,CAEb;;AAFa,CAAb,CAAlB;AAKP;AACA;AACA;;AACAN,SAAS,CAACO,YAAV,CAAuBC,QAAvB,CAAgCC,GAAhC,CACE,UAACD,QAAD,EAAc;AACZ,SAAOA,QAAP;AACD,CAHH,EAIE,UAAUE,KAAV,EAAiB;AACf,MACEA,KAAK,CAACF,QAAN,IACA,CAAC,GAAD,EAAM,GAAN,EAAWG,QAAX,CAAoBD,KAAK,CAACF,QAAN,CAAeI,MAAnC,CADA,IAEAb,KAAK,CAACc,OAAN,CAAc,eAAd,CAFA,IAGA,CAACd,KAAK,CAACc,OAAN,CAAc,YAAd,CAJH,EAKE;AACAd,IAAAA,KAAK,CAACe,QAAN,CAAe,aAAf;AACD;;AACD,SAAOC,OAAO,CAACC,MAAR,CAAeN,KAAf,CAAP;AACD,CAdH","sourcesContent":["/*\n * This is the initial API interface\n * we set the base URL for the API\n */\n\nimport axios from \"axios\";\nimport store from \"@/store\";\n\nexport const apiClient = axios.create({\n  baseURL: process.env.VUE_APP_API_URL + \"/api\",\n  withCredentials: true, // required to handle the CSRF token\n});\n\n/*\n * Add a response interceptor\n */\napiClient.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  function (error) {\n    if (\n      error.response &&\n      [401, 419].includes(error.response.status) &&\n      store.getters[\"auth/authUser\"] &&\n      !store.getters[\"auth/guest\"]\n    ) {\n      store.dispatch(\"auth/logout\");\n    }\n    return Promise.reject(error);\n  }\n);\n"]}]}