{"remainingRequest":"/home/hoang/laravel-vue/node_modules/babel-loader/lib/index.js!/home/hoang/laravel-vue/node_modules/eslint-loader/index.js??ref--13-0!/home/hoang/laravel-vue/src/middleware/guest.js","dependencies":[{"path":"/home/hoang/laravel-vue/src/middleware/guest.js","mtime":1618134042079},{"path":"/home/hoang/laravel-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hoang/laravel-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hoang/laravel-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ3Vlc3QoX3JlZikgewogIHZhciBuZXh0ID0gX3JlZi5uZXh0LAogICAgICBzdG9yZSA9IF9yZWYuc3RvcmU7CiAgdmFyIHN0b3JhZ2VJdGVtID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJndWVzdCIpOwoKICBpZiAoc3RvcmFnZUl0ZW0gPT09ICJpc05vdEd1ZXN0IiAmJiAhc3RvcmUuZ2V0dGVyc1siYXV0aC9hdXRoVXNlciJdKSB7CiAgICBzdG9yZS5kaXNwYXRjaCgiYXV0aC9nZXRBdXRoVXNlciIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICBpZiAoc3RvcmUuZ2V0dGVyc1siYXV0aC9hdXRoVXNlciJdKSB7CiAgICAgICAgbmV4dCh7CiAgICAgICAgICBuYW1lOiAiZGFzaGJvYXJkIgogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCJhdXRoL3NldEd1ZXN0IiwgewogICAgICAgICAgdmFsdWU6ICJpc0d1ZXN0IgogICAgICAgIH0pOwogICAgICAgIG5leHQoKTsKICAgICAgfQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0="},{"version":3,"sources":["/home/hoang/laravel-vue/src/middleware/guest.js"],"names":["guest","next","store","storageItem","window","localStorage","getItem","getters","dispatch","then","name","value"],"mappings":"AAAA,eAAe,SAASA,KAAT,OAAgC;AAAA,MAAfC,IAAe,QAAfA,IAAe;AAAA,MAATC,KAAS,QAATA,KAAS;AAC7C,MAAMC,WAAW,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAApB;;AACA,MAAIH,WAAW,KAAK,YAAhB,IAAgC,CAACD,KAAK,CAACK,OAAN,CAAc,eAAd,CAArC,EAAqE;AACnEL,IAAAA,KAAK,CAACM,QAAN,CAAe,kBAAf,EAAmCC,IAAnC,CAAwC,YAAM;AAC5C,UAAIP,KAAK,CAACK,OAAN,CAAc,eAAd,CAAJ,EAAoC;AAClCN,QAAAA,IAAI,CAAC;AAAES,UAAAA,IAAI,EAAE;AAAR,SAAD,CAAJ;AACD,OAFD,MAEO;AACLR,QAAAA,KAAK,CAACM,QAAN,CAAe,eAAf,EAAgC;AAAEG,UAAAA,KAAK,EAAE;AAAT,SAAhC;AACAV,QAAAA,IAAI;AACL;AACF,KAPD;AAQD,GATD,MASO;AACLA,IAAAA,IAAI;AACL;AACF","sourcesContent":["export default function guest({ next, store }) {\n  const storageItem = window.localStorage.getItem(\"guest\");\n  if (storageItem === \"isNotGuest\" && !store.getters[\"auth/authUser\"]) {\n    store.dispatch(\"auth/getAuthUser\").then(() => {\n      if (store.getters[\"auth/authUser\"]) {\n        next({ name: \"dashboard\" });\n      } else {\n        store.dispatch(\"auth/setGuest\", { value: \"isGuest\" });\n        next();\n      }\n    });\n  } else {\n    next();\n  }\n}\n"]}]}