{"remainingRequest":"/home/hoang/Manager-Village1/web/node_modules/babel-loader/lib/index.js!/home/hoang/Manager-Village1/web/node_modules/eslint-loader/index.js??ref--13-0!/home/hoang/Manager-Village1/web/src/middleware/auth.js","dependencies":[{"path":"/home/hoang/Manager-Village1/web/src/middleware/auth.js","mtime":1618134042079},{"path":"/home/hoang/Manager-Village1/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hoang/Manager-Village1/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hoang/Manager-Village1/web/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXV0aChfcmVmKSB7CiAgdmFyIHRvID0gX3JlZi50bywKICAgICAgbmV4dCA9IF9yZWYubmV4dCwKICAgICAgc3RvcmUgPSBfcmVmLnN0b3JlOwogIHZhciBsb2dpblF1ZXJ5ID0gewogICAgcGF0aDogIi9sb2dpbiIsCiAgICBxdWVyeTogewogICAgICByZWRpcmVjdDogdG8uZnVsbFBhdGgKICAgIH0KICB9OwoKICBpZiAoIXN0b3JlLmdldHRlcnNbImF1dGgvYXV0aFVzZXIiXSkgewogICAgc3RvcmUuZGlzcGF0Y2goImF1dGgvZ2V0QXV0aFVzZXIiKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFzdG9yZS5nZXR0ZXJzWyJhdXRoL2F1dGhVc2VyIl0pIG5leHQobG9naW5RdWVyeSk7ZWxzZSBuZXh0KCk7CiAgICB9KTsKICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfQ=="},{"version":3,"sources":["/home/hoang/Manager-Village1/web/src/middleware/auth.js"],"names":["auth","to","next","store","loginQuery","path","query","redirect","fullPath","getters","dispatch","then"],"mappings":"AAAA,eAAe,SAASA,IAAT,OAAmC;AAAA,MAAnBC,EAAmB,QAAnBA,EAAmB;AAAA,MAAfC,IAAe,QAAfA,IAAe;AAAA,MAATC,KAAS,QAATA,KAAS;AAChD,MAAMC,UAAU,GAAG;AAAEC,IAAAA,IAAI,EAAE,QAAR;AAAkBC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAEN,EAAE,CAACO;AAAf;AAAzB,GAAnB;;AAEA,MAAI,CAACL,KAAK,CAACM,OAAN,CAAc,eAAd,CAAL,EAAqC;AACnCN,IAAAA,KAAK,CAACO,QAAN,CAAe,kBAAf,EAAmCC,IAAnC,CAAwC,YAAM;AAC5C,UAAI,CAACR,KAAK,CAACM,OAAN,CAAc,eAAd,CAAL,EAAqCP,IAAI,CAACE,UAAD,CAAJ,CAArC,KACKF,IAAI;AACV,KAHD;AAID,GALD,MAKO;AACLA,IAAAA,IAAI;AACL;AACF","sourcesContent":["export default function auth({ to, next, store }) {\n  const loginQuery = { path: \"/login\", query: { redirect: to.fullPath } };\n\n  if (!store.getters[\"auth/authUser\"]) {\n    store.dispatch(\"auth/getAuthUser\").then(() => {\n      if (!store.getters[\"auth/authUser\"]) next(loginQuery);\n      else next();\n    });\n  } else {\n    next();\n  }\n}\n"]}]}