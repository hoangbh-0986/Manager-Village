{"remainingRequest":"/home/hoang/laravel-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hoang/laravel-vue/src/components/FileUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hoang/laravel-vue/src/components/FileUpload.vue","mtime":1618134042055},{"path":"/home/hoang/laravel-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hoang/laravel-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/hoang/laravel-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/hoang/laravel-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEVycm9yIH0gZnJvbSAiQC91dGlscy9oZWxwZXJzIjsKaW1wb3J0IEJhc2VCdG4gZnJvbSAiQC9jb21wb25lbnRzL0Jhc2VCdG4iOwppbXBvcnQgRmlsZVNlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9GaWxlU2VydmljZSI7CmltcG9ydCBGbGFzaE1lc3NhZ2UgZnJvbSAiQC9jb21wb25lbnRzL0ZsYXNoTWVzc2FnZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZpbGVVcGxvYWQiLAogIHByb3BzOiB7CiAgICBmaWxlVHlwZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICB9LAogICAgZW5kcG9pbnQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCiAgICBsYWJlbDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiLAogICAgfSwKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEJhc2VCdG4sCiAgICBGbGFzaE1lc3NhZ2UsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsZTogbnVsbCwKICAgICAgbWVzc2FnZTogbnVsbCwKICAgICAgZXJyb3I6IG51bGwsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2xlYXJNZXNzYWdlKCkgewogICAgICB0aGlzLmVycm9yID0gbnVsbDsKICAgICAgdGhpcy5tZXNzYWdlID0gbnVsbDsKICAgIH0sCiAgICBmaWxlQ2hhbmdlKGV2ZW50KSB7CiAgICAgIHRoaXMuY2xlYXJNZXNzYWdlKCk7CiAgICAgIHRoaXMuZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgIH0sCiAgICB1cGxvYWRGaWxlKCkgewogICAgICBjb25zdCBwYXlsb2FkID0ge307CiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIHRoaXMuZmlsZSk7CiAgICAgIHBheWxvYWQuZmlsZSA9IGZvcm1EYXRhOwogICAgICBwYXlsb2FkLmVuZHBvaW50ID0gdGhpcy5lbmRwb2ludDsKICAgICAgdGhpcy5jbGVhck1lc3NhZ2UoKTsKICAgICAgRmlsZVNlcnZpY2UudXBsb2FkRmlsZShwYXlsb2FkKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICJGaWxlIHVwbG9hZGVkLiI7CiAgICAgICAgICB0aGlzLiRlbWl0KCJmaWxlVXBsb2FkZWQiKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+ICh0aGlzLmVycm9yID0gZ2V0RXJyb3IoZXJyb3IpKSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["FileUpload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FileUpload.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <form @submit.prevent=\"uploadFile\">\n    <div class=\"mb-4\">\n      <label for=\"file\" class=\"sr-only\">\n        {{ label }}\n      </label>\n      <input type=\"file\" :accept=\"fileTypes\" @change=\"fileChange\" id=\"file\" />\n    </div>\n    <BaseBtn text=\"Upload\" />\n    <FlashMessage :message=\"message\" :error=\"error\" />\n  </form>\n</template>\n\n<script>\nimport { getError } from \"@/utils/helpers\";\nimport BaseBtn from \"@/components/BaseBtn\";\nimport FileService from \"@/services/FileService\";\nimport FlashMessage from \"@/components/FlashMessage\";\n\nexport default {\n  name: \"FileUpload\",\n  props: {\n    fileTypes: {\n      type: Array,\n      default: null,\n    },\n    endpoint: {\n      type: String,\n      required: true,\n    },\n    label: {\n      type: String,\n      default: \"\",\n    },\n  },\n  components: {\n    BaseBtn,\n    FlashMessage,\n  },\n  data() {\n    return {\n      file: null,\n      message: null,\n      error: null,\n    };\n  },\n  methods: {\n    clearMessage() {\n      this.error = null;\n      this.message = null;\n    },\n    fileChange(event) {\n      this.clearMessage();\n      this.file = event.target.files[0];\n    },\n    uploadFile() {\n      const payload = {};\n      const formData = new FormData();\n      formData.append(\"file\", this.file);\n      payload.file = formData;\n      payload.endpoint = this.endpoint;\n      this.clearMessage();\n      FileService.uploadFile(payload)\n        .then(() => {\n          this.message = \"File uploaded.\";\n          this.$emit(\"fileUploaded\");\n        })\n        .catch((error) => (this.error = getError(error)));\n    },\n  },\n};\n</script>\n"]}]}